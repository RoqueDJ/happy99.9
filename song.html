<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy99.9 - Now Playing</title>
</head>
<body>
    <h1>Now Playing: Eiffel 65 - Blue (Da Ba Dee)!</h1>

    <!-- Audio player with controls -->
    <audio id="audioPlayer" controls autoplay>
        <source id="songSource" src="https://raw.githubusercontent.com/RoqueDJ/happy99.9/main/audio/Happy%2099%20(mp3cut.net).mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>

    <script>
        const audioPlayer = document.getElementById('audioPlayer');

        // URLs for the intro and main song
        const introUrl = "https://raw.githubusercontent.com/RoqueDJ/happy99.9/main/audio/Happy%2099%20(mp3cut.net).mp3"; // Intro song
        const mainSongUrl = "https://raw.githubusercontent.com/RoqueDJ/happy99.9/main/audio/Eiffel%2065%20-%20Blue%20(Da%20Ba%20Dee)%20(AC3%20Stereo).mp3"; // Main song

        // Initialize audio with intro song first
        let songQueue = [introUrl, mainSongUrl]; // Queue to alternate between intro and main song
        let currentSongIndex = 0; // Start with the intro song

        // Set up the player to play the current song from the start
        audioPlayer.src = songQueue[currentSongIndex];
        audioPlayer.autoplay = true;

        // Play next song when current one ends
        function playNextSong() {
            currentSongIndex = (currentSongIndex + 1) % songQueue.length; // Cycle between intro and main song
            audioPlayer.src = songQueue[currentSongIndex]; // Switch to the next song
            audioPlayer.play(); // Start playing the new song
        }

        // Add event listener to switch songs when the current one ends
        audioPlayer.addEventListener('ended', playNextSong);

        // If you refresh the page, the audio will continue playing automatically from where it would be in the broadcast (intro -> main -> intro -> main...)
    </script>
</body>
</html>
